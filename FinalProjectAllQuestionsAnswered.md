# INFO 201 Write Up (Insurance Coverage vs Deaths) - Final

### Introduction
In the last century the United States has begun to develop a notorious reputation due to its citizens' poor lifestyle choices that result in high levels of health related deaths like cancer, obesity, diabetes, and more. Chronic diseases and health conditions impact the overall health of the population, and our first dataset explores the leading causes of death over a span of nearly 20 years across each of the 50 states. Out of 10 leading causes of death, 9 of them were healthcare related. The high suicide levels across the nation reflect the high stress levels people feel and the lack of mental help resources that influence these rates. While lifestyle choices do not solely account for kidney disease, heart disease, diabetes, or respiratory disease, which rank among the leading causes, they can significantly contribute to or exacerbate these conditions. Along with the poor lifestyle choices, the lack of a national healthcare system in the U.S. limits the availability of affordable access to healthcare services and treatments. Medical care in America is one of the most expensive healthcare systems, yet ranks last compared to other industrialized countries. Health insurance aims to protect people from those high costs and provide screenings as preventative care, but insurance plans are expensive, often provide inadequate benefits, have high deductibles, and have gaps in coverage. This combination of poor population health and unreasonably priced and unaccessible healthcare leads to high rates of health related deaths. By comparing the leading causes of death in each state to the types of healthcare insurance coverage that is used in each state, we hope to better understand the relationship between healthcare coverage and health related deaths. 

This topic is interesting because healthcare and death are factors of life that everyone must deal with. As the cost of living and healthcare only seem to be increasing, it is becoming increasingly important to lead more health conscious lives and be aware of which insurances provide the best and most affordable access to live life to the fullest. We are curious to see if there is a connection between how states are insured and how high the health related deaths are. The comparison of these two datasets will hopefully allow us to answer the following questions:

- How does the average uninsured percentage by regions in the US affect the average number of deaths per 100,000 between 2008 and 2017? Does higher uninsured percentage lead to higher number of deaths on average?

- Do regions/states with higher percentages of “low income insurance/no insurance” have higher rates of deaths by diseases that could be medically treated/prevented like heart disease and diabetes? Are there relationships between certain health insurance types and deaths that are commonly associated with the population that holds said insurance type? 

- Does a specific region of the US have higher average deaths per 100,000 in categories like heart disease, stroke, and cancer which could be medically linked to each other? Do we see trends in other causes of death in specific regions of the US?

The results of comparing these sets can potentially be of interest to a very wide range of people. This includes young people who want to know which insurance type could help them stay healthy, people concerned with health trends, or even insurance groups who want to use data to incentivise customers that their insurance is the best. The potential relationship between these datasets can also be of interest to policy makers who are arguing for or against changes to the current healthcare system. 

### Data Explanation
The research questions we are focused on are trying to discover relationships between types of insurance coverage and general health of different regions of the United States in addition to healthiest and unhealthiest regions. The first dataset we chose was a dataset that contains data from 1999-2017 on the top 10 leading causes of death in the United States. The general population of this dataset was the entire United States and population per state which was one reason why we chose it. Another reason why we selected this dataset was because it was extremely detailed in its breakdown of where the numbers were coming from and had organized, easy to understand data. Since the dataset had a breakdown of deaths for each cause by state, total deaths from all 10 causes by state, and total deaths for the entire United States, it would allow us a lot of flexibility in the questions we wanted to research and how we joined datasets. The variables of the dataset were also informative because it gave us total values in addition to deaths per 100,000 so analysis we performed would be relative to the size of states and not be skewed by state size. This first dataset originated from Data.gov and the Center for Disease Control and Prevention websites. The data was collected by the Center for Disease Control and Prevention and the Department of Health and Human Services. The number of deaths for each cause was derived from information from all resident death certificates filed in the 50 states and the District of Columbia using demographic and medical characteristics. Mortality rate per 100,000 post 2010 was derived based on the 2000 US standard population and updated intercensal population. For 2010 and onward, it was derived using the census. Since the data originated from a trustworthy source, we knew the numbers would provide accurate answers to questions we were trying to answer. It is also public and can be used freely - mainly for research and educational purposes. This dataset was very complete with essentially no missing data as it came from a government source which means that future data cleaning would be very easy.

The second dataset we chose contained data on insurance coverage by state from 2008-2017. It provided a detailed breakdown of the percent of people on different types of insurance in each state over the years and for the United States population as a whole. With the population being measured by the data being the same, we would be able to analyze our research questions effectively. The types of insurance fell in the following categories: Employer, Non-Group, Medicaid, Medicare, Military, and Uninsured. This dataset was also very complete meaning that when joining there wouldn’t need to be a lot of data cleaning. Another significant reason for why we chose this dataset was because it made data merging very easy. This dataset had a years column and states column which are also present in the first dataset we chose. Both datasets also provided data over a decade or more meaning we could research trends in the data to find more in depth and concrete answers to our research questions. The data is collected by the Kaiser Family Foundation(KFF) which is a source for health policy research, polling, and news. The data is based on the 2008-2022 American Community Survey and excluded the 1-year estimates for 2020 due to significant disruptions to the data collection because of the coronavirus pandemic. It is also a public dataset on the organization’s website and is free to use. 

The final datasets that we used in our analysis are a combination of the two datasets with key variables being derived from the information in the datasets we selected. The main dataset that is derived from joining the two that we found contains data of total deaths from all 10 causes, deaths in total, deaths per 100,000 relative to population size, region of the United States a state is in, and a breakdown of different insurance coverage percentages by population from 2008-2017 for all 50 states and the United States as a whole. It was joined based on years and states that both datasets had in common. Each row in the dataset represents the number of deaths and insurance coverage distribution percentages for a specific cause of death in a specific year for a state or US as a whole between 2008-2017. In total, there are 5720 observations with no missing data. The following clarifies the meaning and derivation of variables that were used in our analysis from the main joined dataset:
 
- Year - provided by dataset, year the data is from
- Cause Name - provided by dataset, specific cause of death
- State - provided by dataset, state the data represents
- Deaths - provided by dataset, total number of deaths for a state or the United States as a whole
- Age-adjusted Death Rate - provided by dataset, number of deaths per 100,000 relative to state or country population
- Employer - provided by dataset, percentage of population on employer provided insurance
- Non-Group - provided by dataset, percentage of population on individually bought/not employer provided insurance
- Medicaid - provided by dataset, percentage of population on government assisted insurance (low income)
- Medicare - provided by dataset, percentage of population on federal health insurance program (elderly and disabled)
- Military - provided by dataset, percentage of population on military insurance
- Uninsured - provided by dataset, percentage of population with no insurance
- Region - derived using state name which was passed into a function that returned region based on the state name and mutated the joined datasets, - region of the United States a state is in (for United States, it is just US)
- Low_income_insurance - derived using sum of Medicaid and Uninsured percentages in each observation and mutated the joined dataset, percentage of population classified as having low income
  
The second dataset that was used in our analysis was a summarization data frame consisting of variables inherited or derived from the datasets we had selected and aggregations of data points. It consists of yearly data from 2008-2017 of regional average deaths per 100,000 for all causes of death and average uninsured percentage. Each row in the data frame describes the average deaths per 100,000 and average uninsured percentage of a given region in a given year. In total there are 60 rows and there were no missing data points. The new variables that were calculated for this data frame include avg_age_adjusted_death_rate and avg_uninsured_rate. Average_age_adjusted_death_rate was derived by filtering the joined data for deaths classified as “all causes” first then grouping by year and region and finally finding the mean of “Age-adjusted Death Rate”, ignoring null values. Average_uninsured_rate underwent the same filtering and grouping except it used the mean of “Uninsured”, ignoring null values. The following clarifies the meaning and derivation of variables that were used in our analysis from the summarization dataset:

- Year - provided by joined dataset, year data is associated with
- Region - calculated earlier and inherited from joined dataset, region of the United States a state is associated with
- Avg_age_adjusted_death_rate - derived from joined dataset using procedure described above, average number of deaths per 100,000 for a given region for all causes of death
- Avg_uninsured_rate - derived from joined dataset using procedure described above, average percentage of individuals in a given region who are uninsured

### Methods
When doing initial data processing to get our final data frames that we would be working with, we used the state variable from the first dataset and the medicaid and uninsured variables from the second dataset to get new variables that would contribute to our research. The variables we used that were already in the datasets include year, cause name, and age-adjusted death rate from the first dataset and employer, medicaid, medicare, and uninsured from the second dataset. We joined the datasets with an inner join based on year and state so all the observations had entries in both tables. The following lists the reasons for why we chose state, medicaid, and uninsured variables and the methodologies we used to derive new variables in our final dataset:

- State - We used state to derive the variable region because it would allow generalization of our research questions so we could answer them in a broader scope. It also allowed us to be able to identify trends in data based on a categorical variable which fit with our research questions that were focused on the US and parts of the US. Another consideration we made was to ensure readability of our visualizations and if we were to plot data for all 50 states, it would be difficult to see trends. However, by generalizing for regions, we are unable to perform a state level analysis for trends. The state variable was processed by passing it into a function that returned the region to a new variable in our data frame based on the state name.
- Medicaid/Uninsured - We used the sum of the medicaid and uninsured variables to calculate the percentage of the population we classified as low income because we wanted to explore relationships between income and deaths. Then we mutated the main data frame to have this new calculated variable.

The following lists why we chose year, cause name, and age-adjusted death rate from the first dataset and employer, medicaid, medicare, and uninsured from the second dataset:

- Year - Year would allow us to identify trends over a period of 10 years to analyze correlations between different variables.
- Cause Name - We chose specific causes to identify trends in a specific cause of death.
- Age-Adjusted Death Rate - We chose this variable instead of death count because when doing our visualizations we wanted to make sure our data wasn’t skewed by the number of states in a region or the population of larger states as more people result in higher death totals. 
- Employer - We wanted to explore relationships between employer insurance percentage and accidental deaths in our research. 
- Medicaid - We wanted to explore the relationship between low income and deaths for related diseases that could be medically treated/prevented like heart disease, diabetes, and stroke.
- Medicare - We wanted to explore the relationship between coverage for the elderly/immunocompromised and deaths caused by influenza/pneumonia as this category is more susceptible. 
- Uninsured - We wanted to explore the relationship between low income and deaths for related diseases that could be medically treated/prevented like heart disease, diabetes, and stroke.

For our summarized data frame, we focused on aggregating data used in showing the relationship between average percentage of low income/uninsured and average deaths from all causes per 100,000 as that was one of our research questions. The reason we wanted all causes was because we wanted to see if there was an overall relationship rather than a relationship with a specific cause. We could have done it by cause too to make our analysis more detailed. Since we wanted average deaths for all causes we filtered the joined data frame for only those entries first. Then we grouped by year and region (region was added in the joined data frame) as we wanted yearly death averages from each region. Finally we got means for age-adjusted death rate and uninsured variables to make the data point more representative of all states in a region. 

For question 1, the visualization we chose was a scatter plot of aggregated data points by region from 2008-2017 where the x axis was the average uninsured percentage in a region and the y axis was the average number of deaths per 100,000 from all 10 causes. We also have a line showing the trend of data points to make the relationship more obvious between the two variables and found that a non straight line accomplished this better. We sampled all data from the furthest range possible from the datasets we selected because it would make any trends clearer. We processed the data by taking the summarized data frame above and plotting average insurance rates on the x and average deaths on the y using points then adding the trend line. Another visualization we had tried was using different point shapes by year but we found it to be difficult to read and the trend was difficult to see. 

For question 2 part 1, the visualizations we chose were dot plots by region where x is year and y is average low income/non insured percent. The size of the points scale with the average deaths in a region during a year and color is based on region to make yearly relationships and regional trends obvious. The data frame used was the main joined data frame and we filtered for heart disease and diabetes since we wanted preventable/treatable conditions. We also grouped our data by region and year and got the mean death rates and insurance percentages to be representative of a region. For question 2 part 2, we went with the same visualization type except we got the average percentages for a specific insurance type since we were trying to identify if some insurance types were more effective at preventing deaths from certain conditions. 

For question 3, we went with dot plots connected by lines where x is year and y is average deaths per 100,000. Regions had different colors and the lines connecting the points made the trends for each region clearer. To create visualizations for each condition, we filtered the joined table for a cause then grouped by year and region since we wanted points to represent yearly data by region. Finally we averaged regional deaths per 100,000 for the y axis values to represent a region. This enabled us to see how regions performed healthwise relative to other regions over the years, identify the healthiest/unhealthiest regions, and see relationships between different conditions that have been proven to be medically related.

### Results/Data Visualizations
#### Question 1 Visualizations:
<p align = "center"
<img width="706" alt="Screenshot 2023-12-06 at 1 27 33 AM" src="https://github.com/LeeJoh22/INFO201Project/assets/115340183/1a788d76-661a-4f32-9ffe-39ea30576ddb">
</p>
